---
layout: ru_post
title: Оптимизированный ландшафт
---

В этой объёмной статье речь пойдёт о создании ландшафта для мобильных игр на Unity. Встроенный в движок стандартный ландшафт слишком тяжёлый и использовать его не представляется возможным, поэтому нам пришлось искать альтернативные решения. В нашей игре "Ancient Rivals" мы хотели добавить больше открытых пространств, а не ограничиваться классическими подземельями, поэтому вопрос производительности ландшафта стоял остро.

Лучшее, что мы нашли, это смешивание текстур ландшафта по RGB маске, называемой сплатмапом. Сплатмап являет из себя текстуру из, в данном случае, трёх цветов - красный, зелёный, синий. В Unity затем каждому цвету присваивается своя текстура, скажем, красный заменяется тайлящейся травой. Сам [шейдер](https://www.assetstore.unity3d.com/en/#!/content/17334) мы купили на Asset Store, это оказался единственный ассет, выдающий приемлимый FPS на всех наших мобильных девайсах. Итак, предположим, что мы хотим сделать вот такой ландшафт:

![Alt text](http://i.imgur.com/p19G8A4.jpg)

Прежде всего нам нужно создать ландшафт в самом Unity стандартными средствами. На его основе будем делать нашу оптимизированную версию. Этот ход позволит добиться правильной формы, мамштаба и расположения ландшафта на сцене. Точность проработки формы зависит от того, насколько детальным вы хотите получить ландшафт в конечном итоге. Сразу замечу, что чем больше деталей вы хотите сохранить, тем сложнее будет работа. Для этого урока я ограничусь вот таким простеньким холмистым коридорчиком:

